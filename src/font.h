#ifndef LANDER_FONT_H
#define LANDER_FONT_H

// BBC Micro System Font
// 8x8 pixel bitmap font extracted from OS12.ROM
// 96 printable characters starting from ASCII 32 (space)
// Each character is 8 bytes, one byte per row, MSB on left
//
// Original font designed by Acorn Computers for the BBC Micro (1981)
// The 2-pixel wide verticals were designed for TV display where
// single-pixel lines would disappear due to video timing.

#include <cstdint>

namespace Font {
    constexpr int CHAR_WIDTH = 8;
    constexpr int CHAR_HEIGHT = 8;
    constexpr int FIRST_CHAR = 32;  // Space
    constexpr int NUM_CHARS = 96;
    
    // Font bitmap data: 96 characters, 8 bytes each
    // Bit 7 = leftmost pixel, Bit 0 = rightmost pixel
    constexpr uint8_t data[NUM_CHARS * CHAR_HEIGHT] = {
        // ASCII 32
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        // '!' (ASCII 33)
        0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x18, 0x00,
        // '"' (ASCII 34)
        0x6C, 0x6C, 0x6C, 0x00, 0x00, 0x00, 0x00, 0x00,
        // '#' (ASCII 35)
        0x36, 0x36, 0x7F, 0x36, 0x7F, 0x36, 0x36, 0x00,
        // '$' (ASCII 36)
        0x0C, 0x3F, 0x68, 0x3E, 0x0B, 0x7E, 0x18, 0x00,
        // '%' (ASCII 37)
        0x60, 0x66, 0x0C, 0x18, 0x30, 0x66, 0x06, 0x00,
        // '&' (ASCII 38)
        0x38, 0x6C, 0x6C, 0x38, 0x6D, 0x66, 0x3B, 0x00,
        // '\'' (ASCII 39)
        0x0C, 0x18, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
        // '(' (ASCII 40)
        0x0C, 0x18, 0x30, 0x30, 0x30, 0x18, 0x0C, 0x00,
        // ')' (ASCII 41)
        0x30, 0x18, 0x0C, 0x0C, 0x0C, 0x18, 0x30, 0x00,
        // '*' (ASCII 42)
        0x00, 0x18, 0x7E, 0x3C, 0x7E, 0x18, 0x00, 0x00,
        // '+' (ASCII 43)
        0x00, 0x18, 0x18, 0x7E, 0x18, 0x18, 0x00, 0x00,
        // ',' (ASCII 44)
        0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x30,
        // '-' (ASCII 45)
        0x00, 0x00, 0x00, 0x7E, 0x00, 0x00, 0x00, 0x00,
        // '.' (ASCII 46)
        0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x00,
        // '/' (ASCII 47)
        0x00, 0x06, 0x0C, 0x18, 0x30, 0x60, 0x00, 0x00,
        // '0' (ASCII 48)
        0x3C, 0x66, 0x6E, 0x7E, 0x76, 0x66, 0x3C, 0x00,
        // '1' (ASCII 49)
        0x18, 0x38, 0x18, 0x18, 0x18, 0x18, 0x7E, 0x00,
        // '2' (ASCII 50)
        0x3C, 0x66, 0x06, 0x0C, 0x18, 0x30, 0x7E, 0x00,
        // '3' (ASCII 51)
        0x3C, 0x66, 0x06, 0x1C, 0x06, 0x66, 0x3C, 0x00,
        // '4' (ASCII 52)
        0x0C, 0x1C, 0x3C, 0x6C, 0x7E, 0x0C, 0x0C, 0x00,
        // '5' (ASCII 53)
        0x7E, 0x60, 0x7C, 0x06, 0x06, 0x66, 0x3C, 0x00,
        // '6' (ASCII 54)
        0x1C, 0x30, 0x60, 0x7C, 0x66, 0x66, 0x3C, 0x00,
        // '7' (ASCII 55)
        0x7E, 0x06, 0x0C, 0x18, 0x30, 0x30, 0x30, 0x00,
        // '8' (ASCII 56)
        0x3C, 0x66, 0x66, 0x3C, 0x66, 0x66, 0x3C, 0x00,
        // '9' (ASCII 57)
        0x3C, 0x66, 0x66, 0x3E, 0x06, 0x0C, 0x38, 0x00,
        // ':' (ASCII 58)
        0x00, 0x00, 0x18, 0x18, 0x00, 0x18, 0x18, 0x00,
        // ';' (ASCII 59)
        0x00, 0x00, 0x18, 0x18, 0x00, 0x18, 0x18, 0x30,
        // '<' (ASCII 60)
        0x0C, 0x18, 0x30, 0x60, 0x30, 0x18, 0x0C, 0x00,
        // '=' (ASCII 61)
        0x00, 0x00, 0x7E, 0x00, 0x7E, 0x00, 0x00, 0x00,
        // '>' (ASCII 62)
        0x30, 0x18, 0x0C, 0x06, 0x0C, 0x18, 0x30, 0x00,
        // '?' (ASCII 63)
        0x3C, 0x66, 0x0C, 0x18, 0x18, 0x00, 0x18, 0x00,
        // '@' (ASCII 64)
        0x3C, 0x66, 0x6E, 0x6A, 0x6E, 0x60, 0x3C, 0x00,
        // 'A' (ASCII 65)
        0x3C, 0x66, 0x66, 0x7E, 0x66, 0x66, 0x66, 0x00,
        // 'B' (ASCII 66)
        0x7C, 0x66, 0x66, 0x7C, 0x66, 0x66, 0x7C, 0x00,
        // 'C' (ASCII 67)
        0x3C, 0x66, 0x60, 0x60, 0x60, 0x66, 0x3C, 0x00,
        // 'D' (ASCII 68)
        0x78, 0x6C, 0x66, 0x66, 0x66, 0x6C, 0x78, 0x00,
        // 'E' (ASCII 69)
        0x7E, 0x60, 0x60, 0x7C, 0x60, 0x60, 0x7E, 0x00,
        // 'F' (ASCII 70)
        0x7E, 0x60, 0x60, 0x7C, 0x60, 0x60, 0x60, 0x00,
        // 'G' (ASCII 71)
        0x3C, 0x66, 0x60, 0x6E, 0x66, 0x66, 0x3C, 0x00,
        // 'H' (ASCII 72)
        0x66, 0x66, 0x66, 0x7E, 0x66, 0x66, 0x66, 0x00,
        // 'I' (ASCII 73)
        0x7E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7E, 0x00,
        // 'J' (ASCII 74)
        0x3E, 0x0C, 0x0C, 0x0C, 0x0C, 0x6C, 0x38, 0x00,
        // 'K' (ASCII 75)
        0x66, 0x6C, 0x78, 0x70, 0x78, 0x6C, 0x66, 0x00,
        // 'L' (ASCII 76)
        0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x7E, 0x00,
        // 'M' (ASCII 77)
        0x63, 0x77, 0x7F, 0x6B, 0x6B, 0x63, 0x63, 0x00,
        // 'N' (ASCII 78)
        0x66, 0x66, 0x76, 0x7E, 0x6E, 0x66, 0x66, 0x00,
        // 'O' (ASCII 79)
        0x3C, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x00,
        // 'P' (ASCII 80)
        0x7C, 0x66, 0x66, 0x7C, 0x60, 0x60, 0x60, 0x00,
        // 'Q' (ASCII 81)
        0x3C, 0x66, 0x66, 0x66, 0x6A, 0x6C, 0x36, 0x00,
        // 'R' (ASCII 82)
        0x7C, 0x66, 0x66, 0x7C, 0x6C, 0x66, 0x66, 0x00,
        // 'S' (ASCII 83)
        0x3C, 0x66, 0x60, 0x3C, 0x06, 0x66, 0x3C, 0x00,
        // 'T' (ASCII 84)
        0x7E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00,
        // 'U' (ASCII 85)
        0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x00,
        // 'V' (ASCII 86)
        0x66, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x18, 0x00,
        // 'W' (ASCII 87)
        0x63, 0x63, 0x6B, 0x6B, 0x7F, 0x77, 0x63, 0x00,
        // 'X' (ASCII 88)
        0x66, 0x66, 0x3C, 0x18, 0x3C, 0x66, 0x66, 0x00,
        // 'Y' (ASCII 89)
        0x66, 0x66, 0x66, 0x3C, 0x18, 0x18, 0x18, 0x00,
        // 'Z' (ASCII 90)
        0x7E, 0x06, 0x0C, 0x18, 0x30, 0x60, 0x7E, 0x00,
        // '[' (ASCII 91)
        0x7C, 0x60, 0x60, 0x60, 0x60, 0x60, 0x7C, 0x00,
        // '\\' (ASCII 92)
        0x00, 0x60, 0x30, 0x18, 0x0C, 0x06, 0x00, 0x00,
        // ']' (ASCII 93)
        0x3E, 0x06, 0x06, 0x06, 0x06, 0x06, 0x3E, 0x00,
        // '^' (ASCII 94)
        0x18, 0x3C, 0x66, 0x42, 0x00, 0x00, 0x00, 0x00,
        // '_' (ASCII 95)
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF,
        // '`' (ASCII 96)
        0x1C, 0x36, 0x30, 0x7C, 0x30, 0x30, 0x7E, 0x00,
        // 'a' (ASCII 97)
        0x00, 0x00, 0x3C, 0x06, 0x3E, 0x66, 0x3E, 0x00,
        // 'b' (ASCII 98)
        0x60, 0x60, 0x7C, 0x66, 0x66, 0x66, 0x7C, 0x00,
        // 'c' (ASCII 99)
        0x00, 0x00, 0x3C, 0x66, 0x60, 0x66, 0x3C, 0x00,
        // 'd' (ASCII 100)
        0x06, 0x06, 0x3E, 0x66, 0x66, 0x66, 0x3E, 0x00,
        // 'e' (ASCII 101)
        0x00, 0x00, 0x3C, 0x66, 0x7E, 0x60, 0x3C, 0x00,
        // 'f' (ASCII 102)
        0x1C, 0x30, 0x30, 0x7C, 0x30, 0x30, 0x30, 0x00,
        // 'g' (ASCII 103)
        0x00, 0x00, 0x3E, 0x66, 0x66, 0x3E, 0x06, 0x3C,
        // 'h' (ASCII 104)
        0x60, 0x60, 0x7C, 0x66, 0x66, 0x66, 0x66, 0x00,
        // 'i' (ASCII 105)
        0x18, 0x00, 0x38, 0x18, 0x18, 0x18, 0x3C, 0x00,
        // 'j' (ASCII 106)
        0x18, 0x00, 0x38, 0x18, 0x18, 0x18, 0x18, 0x70,
        // 'k' (ASCII 107)
        0x60, 0x60, 0x66, 0x6C, 0x78, 0x6C, 0x66, 0x00,
        // 'l' (ASCII 108)
        0x38, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3C, 0x00,
        // 'm' (ASCII 109)
        0x00, 0x00, 0x36, 0x7F, 0x6B, 0x6B, 0x63, 0x00,
        // 'n' (ASCII 110)
        0x00, 0x00, 0x7C, 0x66, 0x66, 0x66, 0x66, 0x00,
        // 'o' (ASCII 111)
        0x00, 0x00, 0x3C, 0x66, 0x66, 0x66, 0x3C, 0x00,
        // 'p' (ASCII 112)
        0x00, 0x00, 0x7C, 0x66, 0x66, 0x7C, 0x60, 0x60,
        // 'q' (ASCII 113)
        0x00, 0x00, 0x3E, 0x66, 0x66, 0x3E, 0x06, 0x07,
        // 'r' (ASCII 114)
        0x00, 0x00, 0x6C, 0x76, 0x60, 0x60, 0x60, 0x00,
        // 's' (ASCII 115)
        0x00, 0x00, 0x3E, 0x60, 0x3C, 0x06, 0x7C, 0x00,
        // 't' (ASCII 116)
        0x30, 0x30, 0x7C, 0x30, 0x30, 0x30, 0x1C, 0x00,
        // 'u' (ASCII 117)
        0x00, 0x00, 0x66, 0x66, 0x66, 0x66, 0x3E, 0x00,
        // 'v' (ASCII 118)
        0x00, 0x00, 0x66, 0x66, 0x66, 0x3C, 0x18, 0x00,
        // 'w' (ASCII 119)
        0x00, 0x00, 0x63, 0x6B, 0x6B, 0x7F, 0x36, 0x00,
        // 'x' (ASCII 120)
        0x00, 0x00, 0x66, 0x3C, 0x18, 0x3C, 0x66, 0x00,
        // 'y' (ASCII 121)
        0x00, 0x00, 0x66, 0x66, 0x66, 0x3E, 0x06, 0x3C,
        // 'z' (ASCII 122)
        0x00, 0x00, 0x7E, 0x0C, 0x18, 0x30, 0x7E, 0x00,
        // '{' (ASCII 123)
        0x0C, 0x18, 0x18, 0x70, 0x18, 0x18, 0x0C, 0x00,
        // '|' (ASCII 124)
        0x18, 0x18, 0x18, 0x00, 0x18, 0x18, 0x18, 0x00,
        // '}' (ASCII 125)
        0x30, 0x18, 0x18, 0x0E, 0x18, 0x18, 0x30, 0x00,
        // '~' (ASCII 126)
        0x31, 0x6B, 0x46, 0x00, 0x00, 0x00, 0x00, 0x00,
        // ASCII 127
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
    };
    
    // Get pointer to character bitmap data
    // Returns nullptr for characters outside the font range
    inline const uint8_t* getCharData(char c) {
        int idx = static_cast<unsigned char>(c) - FIRST_CHAR;
        if (idx < 0 || idx >= NUM_CHARS) return nullptr;
        return &data[idx * CHAR_HEIGHT];
    }
}

#endif // LANDER_FONT_H
